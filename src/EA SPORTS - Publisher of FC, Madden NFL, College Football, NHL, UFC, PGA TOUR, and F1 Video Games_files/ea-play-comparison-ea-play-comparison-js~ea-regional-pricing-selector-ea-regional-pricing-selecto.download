(window.ndsWebpackChunkLoader=window.ndsWebpackChunkLoader||[]).push([[21,389],{184:function(e,t,i){"use strict";i.r(t),i.d(t,"REGION_UPDATED_EVENT",(function(){return m})),i.d(t,"PRICING_COOKIE",(function(){return u}));var o=i(525),r=i(531),n=i(546),a=i(527),l=i(529),c=i(43),s=i(545),d=i.n(s),g=(i(44),i(74),i(45),i(46),i(565));const{EaMixin:h,getSlottedChildren:p,getAncestorByName:_}=window.nds,m="nds.regionalPricingSelector.regionUpdate",u="pricing-region";class x extends(Object(l.b)([a.a],h(c.EaElement).with(r.a))){static get template(){return o.a`<style include="ea-shared-styles-base-common"></style><style>:host ::slotted([slot=regional-pricing-selector-option]){display:none}:host{color:var(--ea-dark-color);display:block;font-size:15px;position:relative;z-index:4}:host([theme=light]){color:#fff}:host([theme=light]) .ea-regional-pricing-selector__selected-label{color:#a3a3a3}:host([theme=dark]) .ea-regional-pricing-selector__selected-label{color:#5a5a58}:host([open]){color:var(--ea-dark-color)}:host([theme=light][open]){color:var(--ea-light-color)}:host([disabled]){color:#c2c2c2;pointer-events:none}:host([theme=light][disabled]){color:#585858}.ea-regional-pricing-selector__selected{align-items:start;border:none;color:inherit;display:grid;font:inherit;min-height:48px;min-width:190px;padding-left:24px;padding-right:24px;position:relative;text-align:left;width:100%}:host([label-text]) .ea-regional-pricing-selector__selected{padding:8px 24px}@media only screen and (min-width:1456px){.ea-regional-pricing-selector__selected{min-height:60px}}.ea-regional-pricing-selector__selected-container{align-items:center;display:flex;width:100%}:host([theme=dark]) .ea-regional-pricing-selector__selected{background-color:var(--ea-light-color)}:host([theme=light]) .ea-regional-pricing-selector__selected{background-color:var(--ea-dark-color)}:host([theme=dark][disabled]) .ea-regional-pricing-selector__selected{background-color:var(--ea-light-color)}:host([theme=light][disabled]) .ea-regional-pricing-selector__selected{background-color:var(--ea-dark-color)}:host([open]) .ea-regional-pricing-selector__selected{box-shadow:0 14px 20px 0 rgba(0,0,0,.16);z-index:1}.ea-regional-pricing-selector__selected::before{border-radius:3px;border-style:solid;border-width:2px;bottom:0;content:"";left:0;position:absolute;right:0;top:0;transition:border-width .1s,bottom .1s,left .1s,right .1s,top .1s}:host([theme=dark]) .ea-regional-pricing-selector__selected::before{border-color:#c2c2c2}:host([theme=light]) .ea-regional-pricing-selector__selected::before{border-color:#585858}:host(:hover) .ea-regional-pricing-selector__selected::before{border-width:2px;bottom:-2px;left:-2px;right:-2px;top:-2px}:host([open]) .ea-regional-pricing-selector__selected::before{border-width:3px;bottom:-3px;left:-3px;right:-3px;top:-3px}:host([open]) .ea-regional-pricing-selector__selected::after{content:"";height:4px;left:0;position:absolute;right:0;top:-4px}:host([open][theme=dark]) .ea-regional-pricing-selector__selected::after{background-color:var(--ea-light-color);border:solid 2px var(--ea-light-color)}:host([open][theme=light]) .ea-regional-pricing-selector__selected::after{background-color:var(--ea-dark-color);border:solid 2px var(--ea-dark-color)}.ea-regional-pricing-selector__selected-text{flex-grow:1;margin:0 8px 0 0;white-space:nowrap}:host([rtl]) .ea-regional-pricing-selector__selected-text{margin:0 0 0 8px}:host([theme=light]:hover) .ea-regional-pricing-selector__selected-text,:host([theme=light][open]) .ea-regional-pricing-selector__selected-text{color:#fff}:host([theme=dark]:hover) .ea-regional-pricing-selector__selected-text,:host([theme=dark][open]) .ea-regional-pricing-selector__selected-text{color:#000}.ea-regional-pricing-selector__chevron{fill:var(--ea-dark-color);flex-shrink:0;height:16px;width:16px}:host([theme=light]) .ea-regional-pricing-selector__chevron{fill:#a3a3a3}:host([theme=light]:hover) .ea-regional-pricing-selector__chevron,:host([theme=light][open]) .ea-regional-pricing-selector__chevron{fill:#fff}:host([theme=dark]:hover) .ea-regional-pricing-selector__chevron,:host([theme=dark][open]) .ea-regional-pricing-selector__chevron{fill:#000}:host([open]) .ea-regional-pricing-selector__chevron{transform:rotateX(180deg)}:host([disabled][theme=dark]) .ea-regional-pricing-selector__chevron{fill:#c2c2c2}:host([disabled][theme=light]) .ea-regional-pricing-selector__chevron{fill:#585858}.ea-regional-pricing-selector__items{border-radius:3px;border-style:solid;border-width:3px;bottom:100%;box-shadow:0 14px 20px 0 rgba(0,0,0,.16);display:none;flex-direction:column;left:-22px;max-height:0;min-width:calc(100% + 44px);overflow-y:auto;padding:12px 0;position:absolute;transition:max-height var(--ea-interface-expansion) ease-in-out;width:100vw}:host([rtl]) .ea-regional-pricing-selector__items{left:-22px;right:auto}@media only screen and (min-width:768px){.ea-regional-pricing-selector__items{flex-direction:row;left:auto;max-width:calc(100vw - 48px);min-width:calc(100% + 56px);overflow-y:hidden;right:-28px;width:auto}:host([rtl]) .ea-regional-pricing-selector__items{left:-28px;right:auto}}@media only screen and (min-width:1024px){.ea-regional-pricing-selector__items{max-width:1192px}}@media only screen and (min-width:1456px){.ea-regional-pricing-selector__items{padding:21px 5px}}@media only screen and (min-width:768px){.ea-regional-pricing-selector__items[data-column-count="2"]{width:484px}}@media only screen and (min-width:768px){.ea-regional-pricing-selector__items[data-column-count="3"]{width:676px}}@media only screen and (min-width:768px){.ea-regional-pricing-selector__items[data-column-count="4"]{width:calc(100vw - 60px)}}@media only screen and (min-width:1024px){.ea-regional-pricing-selector__items[data-column-count="4"]{width:calc(100vw - 128px)}}.ea-regional-pricing-selector__select{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:rgba(255,255,255,0);border:0;color:transparent;font-family:inherit;font-size:var(--ea-theme-dropdown-font-size-mobile);height:100%;left:0;line-height:var(--ea-theme-dropdown-line-height-mobile);margin:0;padding:0 36px 0 24px;position:absolute;top:0;width:100%}.ea-regional-pricing-selector__select option{background:var(--ea-light-color);color:var(--ea-dark-color)}:host([theme=light]) .ea-regional-pricing-selector__select option{background:var(--ea-dark-color);color:var(--ea-light-color)}@media (min-width:1024px){.ea-regional-pricing-selector__select{display:none}:host([open]) .ea-regional-pricing-selector__items{display:flex;max-height:493px}}@media only screen and (min-width:1456px){:host([open]) .ea-regional-pricing-selector__items{max-height:552px}}:host([theme=dark]) .ea-regional-pricing-selector__items{background-color:var(--ea-light-color);border-color:#c2c2c2}:host([theme=light]) .ea-regional-pricing-selector__items{background-color:var(--ea-dark-color);border-color:#585858}.ea-regional-pricing-selector__column{display:flex;flex-direction:column;flex-shrink:0;margin-left:24px;margin-right:24px}@media only screen and (min-width:768px){.ea-regional-pricing-selector__column{margin-left:0;margin-right:28px}:host([rtl]) .ea-regional-pricing-selector__column{margin-left:28px;margin-right:0}}@media only screen and (min-width:768px){.ea-regional-pricing-selector__items[data-column-count="2"] .ea-regional-pricing-selector__column{width:calc(50% - 44px)}}@media only screen and (min-width:768px){.ea-regional-pricing-selector__items[data-column-count="3"] .ea-regional-pricing-selector__column{width:calc(33.3333333333% - 40px)}}@media only screen and (min-width:768px){.ea-regional-pricing-selector__items[data-column-count="4"] .ea-regional-pricing-selector__column{width:calc(25% - 39px)}}@media only screen and (min-width:768px){.ea-regional-pricing-selector__column:first-child{margin-left:28px}:host([rtl]) .ea-regional-pricing-selector__column:first-child{margin-right:28px}}.ea-regional-pricing-selector__item{align-items:center;border-top-style:solid;border-top-width:2px;cursor:pointer;display:flex;height:47px;justify-content:space-between;position:relative;text-decoration:none;white-space:nowrap}.ea-regional-pricing-selector__item:focus{z-index:1}@media only screen and (min-width:768px){.ea-regional-pricing-selector__item:first-child{border-top:0}}@media only screen and (min-width:1456px){.ea-regional-pricing-selector__item{height:56px}}:host([theme=dark]) .ea-regional-pricing-selector__item{border-top-color:#eaeaea}:host([theme=light]) .ea-regional-pricing-selector__item{border-top-color:#585858}.ea-regional-pricing-selector__column:first-child .ea-regional-pricing-selector__item:first-child{border-top:0}.ea-regional-pricing-selector__item-text{flex-grow:1;padding-left:8px;padding-right:8px;transition:transform var(--ea-interface-expansion) ease-in-out}.ea-regional-pricing-selector__item:hover .ea-regional-pricing-selector__item-text{transform:translateX(8px)}.ea-regional-pricing-selector__checkmark{height:16px;max-width:16px;min-width:16px;visibility:hidden;width:16px}:host([theme=dark]) .ea-regional-pricing-selector__checkmark{fill:var(--ea-dark-color)}:host([theme=light]) .ea-regional-pricing-selector__checkmark{fill:var(--ea-light-color)}.ea-regional-pricing-selector__item-current .ea-regional-pricing-selector__checkmark{visibility:visible}</style><slot name="regional-pricing-selector-option"></slot><button class="ea-regional-pricing-selector__selected" on-click="_handleRegionalPricingSelectorClick" on-keydown="_handleRegionalPricingSelectorKeydown" aria-haspopup="true" aria-expanded="[[ open ]]"><template if="[[ labelText ]]" is="dom-if"><div class="ea-regional-pricing-selector__selected-label">[[ labelText ]]</div></template><div class="ea-regional-pricing-selector__selected-container"><span class="ea-regional-pricing-selector__selected-text">[[ _text ]]</span><iron-icon icon="ea-action-16:chevron" class="ea-regional-pricing-selector__chevron"></iron-icon></div></button><div id="items" class="ea-regional-pricing-selector__items" data-column-count\$="{{ columns.length }}"><template is="dom-repeat" items="{{ _columns }}" as="column" on-dom-change="_setItems"><div class="ea-regional-pricing-selector__column"><template is="dom-repeat" items="{{ column }}" as="option"><div class\$="{{ _getRegionalPricingSelectorItemClass(option, _value) }}" data-value\$="[[ option.value ]]" data-text\$="[[ option.text ]]" data-index\$="[[ option.index ]]" on-tap="_handleSelectedClick" on-keydown="_handleSelectorItemKeydown" role="menuitem" tabindex="0"><span class="ea-regional-pricing-selector__item-text">[[ option.text ]]</span><iron-icon icon="ea-state-16:checked" class="ea-regional-pricing-selector__checkmark"></iron-icon></div></template></div></template></div><select id="select" class="ea-regional-pricing-selector__select" on-change="_onSelectChange"></select>`}static get is(){return"ea-regional-pricing-selector"}static get properties(){return{open:{type:Boolean,value:!1,reflectToAttribute:!0},theme:{type:String,value:"dark",reflectToAttribute:!0},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},_value:{type:String,notify:!0,value:Object(g.a)(),observer:"_valueChanged"},hidden:{type:Boolean,value:!0},_text:{type:String,computed:"_computeText(_value, _options)"},labelText:String,_options:{type:Array,value:()=>[]},_columns:{type:Array,computed:"_computeColumns(_options)"},_items:{type:Array,value:()=>[]}}}static get observers(){return["_updateSelect(_options)"]}_computeText(e){const t=this._findOption(e);return t?t.text:""}_updateRegionCookie(e){const t=Object(g.a)(),i=this._findOption(t),o=d.a.get(u);i&&e!==o?d.a.set(u,e):o&&d.a.remove(u),this.hidden=!i,o!==d.a.get(u)&&document.dispatchEvent(new CustomEvent(m,{bubbles:!0,composed:!0}))}_getQueryWithoutParam(e){return window.location.search.substr(1).split("&").filter((function(t){const i=new RegExp(e+"=");return!t.match(i)})).join("&")}_getPathnameWithoutSegment(e){return window.location.pathname.split("/").filter((function(t){const i=new RegExp(""+e);return!t.match(i)})).join("/")}_setRegionalPricing(e){this._value=e,d.a.set(u,e),document.dispatchEvent(new CustomEvent(m,{bubbles:!0,composed:!0}))}_computeColumns(e){return e.reduce((e,t)=>{const i=e[e.length-1];return!i||i.length>=9?e.push([t]):i.push(t),e},[])}_toggleAttribute(e){this.hasAttribute(e)?this.removeAttribute(e):this.setAttribute(e,"")}_handleRegionalPricingSelectorClick(){this._toggleAttribute("open")}_handleRegionalPricingSelectorKeydown(e){["ArrowDown","Enter"," ","ArrowUp"].includes(e.key)&&(this._handleRegionalPricingSelectorClick(),"ArrowUp"===e.key?this._focusOnItem(this._items.length-1):this._focusOnItem(0))}_handleSelectedClick(e){const t=e.currentTarget.dataset.value;t&&t!==this._value&&this._setRegionalPricing(t),this._toggleAttribute("open")}_getItemIndex(e,t){const i=this._items.length;return((e+t)%i+i)%i}_handleSelectorItemKeydown(e){e.preventDefault();const t=parseInt(e.target.getAttribute("data-index"),10);switch(e.key){case"ArrowDown":this._focusOnItem(this._getItemIndex(t,1));break;case"ArrowUp":this._focusOnItem(this._getItemIndex(t,-1));break;case"Home":case"PageUp":this._focusOnItem(0);break;case"End":case"PageDown":this._focusOnItem(this._items.length-1);break;case"Escape":this._toggleAttribute("open"),this.shadowRoot.querySelector(".ea-regional-pricing-selector__selected").focus();break;case"Enter":this._handleSelectedClick(e);break;default:this._handleSelectorItemCharacterKeydown(e.key,t)}}_handleSelectorItemCharacterKeydown(e,t){if(1===e.length&&e.match(/\S/)){const i=e.toLowerCase();let o=t+1;o===this._items.length&&(o=0);let r=this._getIndexFirstChars(o,i);-1===r&&(r=this._getIndexFirstChars(0,i)),r>-1&&this._focusOnItem(r)}}_focusOnItem(e){this._items[e].focus()}_getIndexFirstChars(e,t){for(let i=e;i<this._items.length;i++)if(t===this._items[i].innerText[0].toLowerCase())return i;return-1}_valueChanged(e){window.scrollTo(0,0),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0,detail:{value:e}}))}_findOption(e){return this._options.find(t=>t.value===e)}_getRegionalPricingSelectorItemClass(e,t){let i="ea-regional-pricing-selector__item";return e.value.toLowerCase()===t.toLowerCase()&&(i=`${i} ${i}-current`),i}_getOptions(){return p(this,["regional-pricing-selector-option"]).map((e,t)=>({value:e.getAttribute("value"),text:e.textContent,disabled:e.hasAttribute("disabled"),index:t}))}_setOptions(){this._options=this._getOptions()}_tapHandler(e){const t=_(e.target,this.nodeName);!this.open||t&&t===this||(this.open=!1)}_onSelectChange(e){const t=e.target.value;this._value!==t&&this._setRegionalPricing(t)}_updateSelect(e){this._clearChildren(this.$.select),this._addOptionsToSelect(e,this.$.select)}_clearChildren(e){for(;e.firstChild;)e.removeChild(e.firstChild)}_addOptionsToSelect(e,t){const i=document.createDocumentFragment();e.forEach(e=>{const t=document.createElement("option");t.textContent=e.text,t.classList.add("ea-regional-pricing-selector"),t.setAttribute("value",e.value),e.value===this._value&&t.setAttribute("selected",""),e.disabled&&t.setAttribute("disabled",""),i.appendChild(t)}),t.appendChild(i)}_setItems(){this._items=[...this.$.items.querySelectorAll(".ea-regional-pricing-selector__item")]}_onResize(){this.shadowRoot.querySelector(".ea-regional-pricing-selector__selected").setAttribute("tabindex",window.innerWidth>=768?"0":"-1")}constructor(){super(),this._tapHandler=this._tapHandler.bind(this),this._setOptions=this._setOptions.bind(this),this._toggleAttribute=this._toggleAttribute.bind(this)}connectedCallback(){super.connectedCallback(),Object(n.a)(document,"tap",this._tapHandler),this.addEventListener("iron-resize",this._onResize),this._setOptions(),this._updateRegionCookie(this._value),this._onResize(),this.shadowRoot.addEventListener("slotchange",this._setOptions)}disconnectedCallback(){super.disconnectedCallback(),Object(n.b)(document,"tap",this._tapHandler)}}window.customElements.define(x.is,x)},74:function(e,t){window.nds=window.nds||{},window.nds.getAncestorByName=(e,t)=>{let i=e;for(;i.parentElement;){if(i.nodeName===t)return i;i=i.parentElement}return null}}}]);