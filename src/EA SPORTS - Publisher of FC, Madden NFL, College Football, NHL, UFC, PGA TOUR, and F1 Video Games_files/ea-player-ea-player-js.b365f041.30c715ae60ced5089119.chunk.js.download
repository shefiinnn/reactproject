(window.ndsWebpackChunkLoader=window.ndsWebpackChunkLoader||[]).push([[260,99,162,216,234,259,285,288,290,293,333,366,394],{380:function(e,t,n){"use strict";n.r(t);var s=n(525),a=(n(532),n(43)),i=n(57),r=(n(47),n(44),n(60));const{EaMixin:o,EaGoogleAnalyticsMixin:d}=window.nds;class c extends(o(a.EaElement).with(d)){static get template(){return s.a`<iron-ajax id="ajax" method="GET" on-response="_handleSuccessResponse" on-error="_handleErrorResponse" url\$="[[ playerEndpoint ]]"></iron-ajax>`}static get is(){return"ea-player"}static get properties(){return{playerEndpoint:String,playerData:{type:Object,value:()=>({})},playerDataRetrieved:{type:Boolean,value:!1}}}_getPlayerData(){this.$.ajax.generateRequest()}_handleSuccessResponse(e,t){this.playerDataRetrieved||(this.playerDataRetrieved=!0),t.response.authenticated?(this.playerData=t.response,this.dispatchEvent(new CustomEvent(r.LOGGED_IN_EVENT,{bubbles:!0,composed:!0})),this.dispatchEvent(new CustomEvent(r.PLAYER_STATE_EVENT,{bubbles:!0,composed:!0,detail:this.playerData})),this.gaEventName="/ga/user/login-success",this.gaEventPayload={userid:this.playerData.pid||this.playerData.pidId},this.gaEvent(this.gaEventName,this.gaEventPayload)):(this.playerData={},this.dispatchEvent(new CustomEvent(r.LOGGED_OUT_EVENT,{bubbles:!0,composed:!0}))),this._stateCheckHandler()}_handleErrorResponse(){this.dispatchEvent(new CustomEvent(r.LOGGED_OUT_EVENT,{bubbles:!0,composed:!0}))}_stateCheckHandler(){this.playerDataRetrieved&&(this.playerData.authenticated?(this.dispatchEvent(new CustomEvent(r.LOGGED_IN_EVENT,{bubbles:!0,composed:!0})),this.dispatchEvent(new CustomEvent(r.PLAYER_STATE_EVENT,{bubbles:!0,composed:!0,detail:this.playerData}))):this.dispatchEvent(new CustomEvent(r.LOGGED_OUT_EVENT,{bubbles:!0,composed:!0})))}constructor(){super(),this._stateCheckHandler=this._stateCheckHandler.bind(this),this._getPlayerData=this._getPlayerData.bind(this)}connectedCallback(){super.connectedCallback(),this.$.ajax.withCredentials=Object(i.isHttpsCrossOrigin)(this.playerEndpoint),document.addEventListener(r.PLAYER_STATE_CHECK_EVENT,this._stateCheckHandler),this.playerEndpoint?(this._getPlayerData(),document.addEventListener(r.PLAYER_REFRESH_EVENT,this._getPlayerData)):this.dispatchEvent(new CustomEvent(r.LOGGED_OUT_EVENT,{bubbles:!0,composed:!0}))}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener(r.PLAYER_STATE_CHECK_EVENT,this._stateCheckHandler),this.playerEndpoint&&document.removeEventListener(r.PLAYER_REFRESH_EVENT,this._getPlayerData)}}window.customElements.define(c.is,c)},43:function(e,t,n){"use strict";n.r(t),n.d(t,"EaElement",(function(){return a}));var s=n(526);n(524);class a extends s.a{static get is(){return"ea-element"}static get properties(){return{unresolved:{type:Boolean,reflectToAttribute:!0},wfLoading:{type:Boolean,value:!0,reflectToAttribute:!0},rtl:{type:Boolean,value:!1,reflectToAttribute:!0}}}_wfLoaded(){this.wfLoading=!1,this._removeEventListeners()}_removeEventListeners(){document.removeEventListener("nds.typeKit.active",this._wfLoaded)}constructor(){super(),this._wfLoaded=this._wfLoaded.bind(this)}connectedCallback(){super.connectedCallback(),this.rtl="rtl"===document.dir,this.wfLoading=void 0===window._wfLoading,this.wfLoading&&(document.documentElement.hasAttribute("wf-loading")?document.addEventListener("nds.typeKit.active",this._wfLoaded):this._wfLoaded())}disconnectedCallback(){super.disconnectedCallback(),this._removeEventListeners()}ready(){super.ready(),this.unresolved=!1}}window.customElements.define(a.is,a)},44:function(e,t,n){"use strict";n.r(t),n.d(t,"EaMixin",(function(){return a}));class s{constructor(e){this.superClass=e}with(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>t(e),this.superClass)}}const a=e=>new s(e);window.nds=window.nds||{},window.nds.EaMixin=a},47:function(e,t,n){"use strict";n.r(t),n.d(t,"EaGoogleAnalyticsMixin",(function(){return s}));n(524);window.nds=window.nds||{};const s=e=>class extends e{static get properties(){return{gaEventName:String,gaEventPayload:Object,fireAnalyticsEnabled:{type:Boolean,value:!0}}}_fireAnalytics(){this.fireAnalyticsEnabled&&this.gaEventName&&this.gaEventPayload&&this.gaEvent(this.gaEventName,this.gaEventPayload)}gaEvent(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.event=e;const s=new CustomEvent("/ga/nds",{detail:n,bubbles:!0,composed:!0});if(null!==(t=window.tlm_ga)&&void 0!==t&&t.isReady())this.dispatchEvent(s);else{const e=setInterval(()=>{var t;null!==(t=window.tlm_ga)&&void 0!==t&&t.isReady()&&(this.dispatchEvent(s),clearInterval(e))},300);setTimeout(()=>{clearInterval(e)},5e3)}}gaPageView(){this.dispatchEvent(new CustomEvent("/ga/pageview",{detail:{path:window.location.href.split("://")[1]},bubbles:!0,composed:!0}))}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this._fireAnalytics)}};window.nds.EaGoogleAnalyticsMixin=s},57:function(e,t,n){"use strict";n.r(t),n.d(t,"LOCALE_MATCH_REGEXP",(function(){return s})),n.d(t,"DEFAULT_LOCALE",(function(){return a})),n.d(t,"getCurrentLocale",(function(){return i})),n.d(t,"isHttpsCrossOrigin",(function(){return r}));const s=/^[a-z]{2}-[a-z]{2}$/,a="en-us",i=()=>{const e=(window.location.pathname||"").split("/")[1]||"";return e.match(s)?e:a},r=e=>{if(!e)return!1;const{origin:t,protocol:n}=window.location,{origin:s,protocol:a}=new URL(e,t);return t!==s&&"https:"===n&&"https:"===a}},60:function(e,t,n){"use strict";n.r(t),n.d(t,"LOGGED_OUT_EVENT",(function(){return s})),n.d(t,"LOGGED_IN_EVENT",(function(){return a})),n.d(t,"PLAYER_STATE_EVENT",(function(){return i})),n.d(t,"PLAYER_STATE_CHECK_EVENT",(function(){return r})),n.d(t,"PLAYER_REFRESH_EVENT",(function(){return o}));const s="logged-out",a="logged-in",i="player-state",r="player-state-check",o="player-refresh"}}]);